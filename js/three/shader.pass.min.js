THREE.ShaderPass=function(shader,textureID){THREE.Pass.call(this),this.textureID=void 0!==textureID?textureID:"tDiffuse",shader instanceof THREE.ShaderMaterial?(this.uniforms=shader.uniforms,this.material=shader):shader&&(this.uniforms=THREE.UniformsUtils.clone(shader.uniforms),this.material=new THREE.ShaderMaterial({defines:Object.assign({},shader.defines),uniforms:this.uniforms,vertexShader:shader.vertexShader,fragmentShader:shader.fragmentShader})),this.fsQuad=new THREE.Pass.FullScreenQuad(this.material)},THREE.ShaderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.ShaderPass,render:function(renderer,writeBuffer,readBuffer){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=readBuffer.texture),this.fsQuad.material=this.material,this.renderToScreen?(renderer.setRenderTarget(null),this.fsQuad.render(renderer)):(renderer.setRenderTarget(writeBuffer),this.clear&&renderer.clear(renderer.autoClearColor,renderer.autoClearDepth,renderer.autoClearStencil),this.fsQuad.render(renderer))}});